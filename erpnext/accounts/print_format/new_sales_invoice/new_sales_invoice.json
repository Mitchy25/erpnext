{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-05-06 09:17:12.790507",
 "css": "#triangle {\n  position: absolute;\n\n  width: 0;\n  height: 0;\n\n  border-right: 40px solid #1c649c;\n  border-bottom: 40px solid transparent;\n  \n  margin-left: 650px;\n}\n\n#watermark {\n    /* the image you want to 'watermark' */\n    height: 156px; /* or whatever, equal to the image you want 'watermarked' */\n    width: 406px; /* as above */\n    /* background-image: url(https://www.google.co.in/images/srpr/logo11w.png); */\n    background-image: url(https://upload.wikimedia.org/wikipedia/commons/f/ff/DRAFT_ICON.png);\n    background-position: 10 10;\n    background-repeat: no-repeat;\n    position: relative;\n}\n\n.title-font {\n  color: #1c649c;\n  font-size: 46px;\n  margin-top: -20px;\n  font-family: 'Brandon Grotesque Regular'\n}\n\n.border-right {\n  border-right: 2px solid #f3f3f3;\n}\n\n.border-left {\n  border-left: 2px solid #f3f3f3;\n}\n\n.border-top {\n  border-top: 2px solid #f3f3f3;\n}\n\n\n.border-bt-2 {\n  border-bottom: 2px solid #1c649c;\n}\n\n.border-bt-3 {\n  border-bottom: 3px solid #1c649c;\n}\n\np {\n  margin: 0px !important;\n}\n\n\n.pl-2 {\n  padding-left: 0.5rem;\n}\n\n\nh6 {\n  font-family: \"Raleway\";\n  margin-bottom: 0px;\n  padding-bottom: 0px;\n  font-weight: bold;\n}\n\n.print-format th {\n  background-color: #1c649c !important;\n  color:whitesmoke;\n  border-color: #1c649c !important;\n}\n\n.print-format {\n    padding-top:1px;!important;\n    padding-bottom:1px;!important;\n    padding-left:5px;!important;\n    padding-right:5px;!important;\n}!important;\n\n        \n.d-inline-block {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.text-right {\n  text-align: right;\n}\n.text-left {\n  text-align: left;\n}\n\n\n\n.w-45 {\n  width: 47%;\n display: inline-block;\n}\n\n.w-74 {\n  width: 74%;\n}\n\n.w-24 {\n  width: 24%;\ndisplay: inline-block;\n}\n\n.w-33 {\n  width: 33%;\n  display: inline-block;\n}\n\n.w-25 {\n  width: 24.5%;\n  display: inline-block;\n}\n\ndiv .mitch{\n  font-family: \"Raleway\";\n  font-weight: 400;\n  width:98%;\n  margin-left: 3%;\n  margin-right: 3%;\n  color: black;\n}\n\ntable.itemsTable td, table.backorderTable td {\n    line-height:5px!important;\n    font-size: 12px;\n    font-family: 'Brandon Grotesque Regular';\n    \n}\n\ntable th {\n  text-align: center;\n}\nh6 > b {\n  color: black;\n}\nimg {\n    width:40%; /* you can use % */\n    height: auto;\n}\n\n@media print {\n  .col-sm-1,\n  .col-sm-2,\n  .col-sm-3,\n  .col-sm-4,\n  .col-sm-5,\n  .col-sm-6,\n  .col-sm-7,\n  .col-sm-8,\n  .col-sm-9,\n  .col-sm-10,\n  .col-sm-11,\n  .col-sm-12 {\n    float: left;\n  }\n  .col-sm-12 {\n    width: 100%;\n  }\n  .col-sm-11 {\n    width: 91.66666666666666%;\n  }\n  .col-sm-10 {\n    width: 83.33333333333334%;\n  }\n  .col-sm-9 {\n    width: 75%;\n  }\n  .col-sm-8 {\n    width: 50.5%;\n  }\n  .col-sm-7 {\n    width: 49.5%;\n  }\n  .col-sm-6 {\n    width: 33%;\n  }\n  .col-sm-5 {\n    width: 41.66666666666667%;\n  }\n  .col-sm-4 {\n    width: 25%;\n  }\n  .col-sm-3 {\n    width: 50%;\n  }\n  .col-sm-2 {\n    width: 16.666666666666664%;\n  }\n  .col-sm-1 {\n    width: 8.333333333333332%;\n  }\n}\n.test-footer{\n    text-align:center\n}\ntable.table td:nth-child(1) {\n  font-size: 12px\n}\ntable.table td:nth-child(2) {\n  font-size: 12px\n}\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<head>\n    <link href=\"https://fonts.googleapis.com/css?family=Raleway&display=swap\" rel=\"stylesheet\">\n    <link href=\"https://fonts.cdnfonts.com/css/brandon-grotesque-regular\" rel=\"stylesheet\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n    <link href=\"https://fonts.googleapis.com/css2?family=Montserrat&display=swap\" rel=\"stylesheet\">\n</head>\n<body>\n{% set backorders = frappe.get_all(\"Backorder\", filters=[ \n    ['customer', '=', doc.customer ] \n ], fields=['name'])  %}\n\n{# Fetch all backorder's qty and aggregate them #}\n{% set backorder_list = [] %}\n{% set backorder_dict = dict() %}\n{% for bo in backorders %}\n    {% set bo_doc = frappe.get_doc(\"Backorder\", bo['name']) %}\n    {% for bo_item in bo_doc.items %}\n        {% set key =  bo_item.item_code %}\n        {% if key in backorder_dict %}\n            {% set _dummy = backorder_dict[key].update( {'qty': \n                backorder_dict[key]['qty'] + bo_item.qty\n            }) %}\n        {% else %}\n            {% set _dummy = backorder_dict.update( {key: {'item_name': bo_item.item_name, 'qty': bo_item.qty, 'added_qty': 0} }) %}\n        {% endif %}\n    {% endfor %}\n{% endfor %}\n\n{# fetch new backorder item added in this order #}\n{% if doc.backorder_items %}\n    {% for row in doc.backorder_items %}\n        {% set key = row.item_code %} \n        {% if key in backorder_dict %}\n            {% set _dummy = backorder_dict[key].update( {'added_qty': backorder_dict[key]['added_qty'] + row.qty }) %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n\n\n        \n        \n<div class=\"mitch\">\n    {% if doc.status == \"Draft\" %}\n        <div id=\"watermark\"></div>\n    {% endif %}\n    \n    {% if doc.status == \"Overdue\" %}\n        <div id=\"watermarks\"></div>\n    {% endif %}\n    \n    <div id=\"header-html\" class=\"hidden-pdf\" >\n    <div class=\"row border-bt-3\" style=\"width:101%;padding-top:0px;padding-bottom:5px;\">\n        {% if doc.payment_category == \"Pay before Dispatch\" and doc.outstanding_amount != 0 %}\n        <div id=\"triangle\">\n        </div>\n        {% endif %}\n        <div class=\"w-33\" style=\"text-align:center;vertical-align:middle;\">\n            <img src=\"https://erpnext.rnlabs.com.au/files/RN-Labs-Brisbane-1.jpg\" height=\"40px\" style=\"padding-bottom: 2px;\">\n            <br>ABN: 57 154 338 226\n        </div>\n        <div class=\"w-33\" style=\"text-align:center;vertical-align:middle;padding-top:15px;\">\n            <h1 class=\"title-font\" style=\"font-size:36px;  margin-bottom: 0px;\"> \n            {% if doc.is_return %}\n                Tax Credit\n            {% else %}\n                Tax Invoice\n            {% endif %}\n            </h1>\n        </div>\n        <div class=\"w-33\" style=\"text-align:center;vertical-align:middle;padding-top:20px;\">\n            <div class=\"title-font\" style=\"font-size: 12px; vertical-align:middle;\">\n                Inv No: <b>\n                {% if doc.name[-2] != '-' %}\n                    {{doc.name[-7:]}}\n                {% else %}\n                    {{doc.name[-9:]}}\n                {% endif %}\n                </b>\n                Inv Date: <b>{{ frappe.utils.get_datetime(doc.posting_date).strftime('%d-%m-%Y') }}</b><br>\n                Customer Code: <b>{{doc.customer}}</b>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"row border-bt-3\" style=\"width:101%; tpadding-top:0px; block-size: fit-content; padding-left:5%;\">\n        <div class=\"w-33\" style=\"height:100%; vertical-align: top; text-align:center;\">\n            <h6>Billing:\n            </h6>\n        {% if doc.temporary_address == 0 %}\n            {{doc.customer_name}}<br>\n            <div id=\"billing_address\">\n                {{doc.address_display}}\n            </div>\n        {% else %}\n            <div id=\"billing_address\">\n                {%  if doc.temporary_delivery_address_line_1 %}\n                    <strong>Name:</strong> {{doc.temporary_delivery_address_line_1}} <br>\n                {% endif %}\n                {%  if doc.temporary_delivery_address_line_2 %}\n                    {{doc.temporary_delivery_address_line_2}} <br>\n                {% endif %}\n                {%  if doc.temporary_delivery_address_line_3 %}\n                    {{doc.temporary_delivery_address_line_3}} <br>\n                {% endif %}\n                {%  if doc.temporary_delivery_address_line_4 %}\n                    <strong>Phone:</strong> {{doc.temporary_delivery_address_line_4}} <br>\n                {% endif %}\n                {%  if doc.temporary_delivery_address_line_5 %}\n                    <strong>Email:</strong> {{doc.temporary_delivery_address_line_5}} <br>\n                {% endif %}\n            </div>\n        {% endif %}\n        </div>\n        <div class=\"w-33\" style=\"vertical-align: top; text-align:center;padding-left:5%; padding-right:5%;\">\n            <h6>References:</h6>\n            <b style=\"font-size: 14px\">{{doc.customer_name}}</b><br> \n            PO Number: {{doc.po_no}}<br>\n            {% if doc.barcode_svg %}\n            <div>{{ doc.barcode_svg }}</div>\n            {% endif %}\n        </div>\n        <div class=\"w-33\" style=\"height:100%;text-align:center;vertical-align: top;\">\n                <h6>Shipping:</h6>\n        {% if doc.temporary_address == 0 %}\n            {{doc.customer_name}}<br>\n            <div id=\"shipping_address\">\n                {{doc.shipping_address}}\n            </div>\n            <div id=\"shipping_instructions\">\n                {% if doc.contact_mobile %}\n                    <strong>Phone: </strong>{{doc.contact_mobile}} <br>\n                {% endif %}\n                {% if doc.shipping_instructions %}\n                    <strong>Shipping Instructions:</strong> <br>{{doc.shipping_instructions}}\n                {% endif %}\n            </div>\n        {% else %}\n            <div id=\"shipping_address\">\n                {% if doc.temporary_delivery_address_line_1 %} \n                    Name: {{doc.temporary_delivery_address_line_1}}<br>\n                {% endif %} \n                {% if doc.temporary_delivery_address_line_2 %} \n                    {{doc.temporary_delivery_address_line_2}}<br>\n                {% endif %} \n                    {% if doc.suburb %} \n                        {% if doc.state %} \n                            {{doc.suburb}}, {{doc.state}}, {{doc.postcode}}<br>\n                        {% else %}\n                            {{doc.suburb}}, {{doc.postcode}}<br>\n                        {% endif %} \n                    {% else %} \n                        {% if doc.state %} \n                            {{doc.state}}, {{doc.postcode}}<br>\n                        {% else %}\n                            {{doc.postcode}}<br>\n                        {% endif %} \n                    {% endif %} \n                {% if doc.temporary_delivery_address_line_3 %} \n                    {{doc.temporary_delivery_address_line_3}}<br>\n                {% endif %} \n                {% if doc.temporary_delivery_address_line_4 %} \n                    <b>Phone:</b> {{doc.temporary_delivery_address_line_4}}<br>\n                {% endif %} \n                    {% if doc.temporary_delivery_address_line_5 %} \n                    <b>Email:</b> {{doc.temporary_delivery_address_line_5}}<br>\n                {% endif %} \n                {% if doc.customer_shipping_instructions %} \n                    <b>Shipping Instructions:</b> {{doc.customer_shipping_instructions}}\n                {% endif %}\n            </div>\n        {%  endif %}\n        </div>\n    </div>\n</div>\n\n{%  if doc.isbackorder == 1: %}\n    <br>\n    <div style=\"text-align: center; padding-right: 5%\">\n        <strong>Backorder</strong>\n    </div>\n{% endif %}\n    <div class=\"row text-center\">\n        <br>\n        <table class=\"itemsTable table table-bordered text-center table-striped\" style=\"font-family: Brandon Grotesque Regular;margin:0;font-size:10px;width:97%;\">\n            <tbody>\n                <thead>\n                    <th>Qty</th>\n                    <th style=\"text-align:left;\">SKU</th>\n                    <th style=\"text-align:left;\">Item Name</th>\n                    <th>Price</th>\n                    <th>Disc.</th>\n                    <th>Line Ttl</th>\n                \n                </thead>\n            {%- for row in doc.items|sort(attribute='brand')|sort(attribute='item_code') -%}\n                <tr>\n                    <td style=\"width: 3%;\">\n                        {% if doc.is_return %}\n                            <b>{{ - row.qty }}</b>\n                        {% else %}\n                            <b>{{ row.get_formatted(\"qty\", doc) }}</b>\n                        {% endif %}\n                    </td>\n                    <td style=\"width: 12%;text-align:left;\">\n                        <b>{{ row.item_code }}</b>\n                    </td>\n                    <td style=\"width: 42%;line-height:10px!important;text-align:left;\">\n                        {{ row.item_name }}\n                    </td>\n                    <td style=\"width: 8%; \">\n                        {% if doc.is_return %}\n                            {{ row.rate }}\n                        {% else %}\n                            {{ row.get_formatted(\"price_list_rate\", doc) }}\n                        {% endif %}\n                    </td>\n                    <td style=\"width: 4%;\">{{ row.get_formatted(\"discount_percentage\",doc) }}</td>\n                    <td style=\"width: 12%; \">\n                        {% if doc.is_return %}\n                            {{ - row.amount }}\n                        {% else %}\n                            {{ row.get_formatted(\"amount\", doc) }}\n                        {% endif %}\n                    </td>\n                </tr>\n            {%- endfor -%}\n            </tbody>\n        </table>\n        <br>\n\n    </div>\n    <div class=\"row text-center\">\n        <table style=\"width:98%; padding:0px!important;\">\n            <tr>\n                <td style=\"width:64%;text-align:left;padding:0px!important;\">\n                    {% if doc.comments: %}\n                    <table class=\"table table-bordered text-center\" style=\"margin:0;font-size:10px;width:97%;padding:0px!important;padding-right:20px!important\">\n                        <thead>\n                            <th>Comments</th>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td style=\"background-color:#F9F9F9\">\n                                     {{doc.comments |  replace('\\n', '<br>')}}\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    {% endif %}\n                </td>\n                <td style=\"width:36%; text-align:right;padding:0px!important;\">\n                    <table class=\"table table-striped text-right\" style=\"font-family:Brandon Grotesque Regular; border-radius:10px;margin:0;font-size:10px;width:97%;padding:0px!important;border:1px solid #d1d8dd\">\n                        {% set global = namespace(gst=0) %}\n                        {%- for row in doc.taxes -%} \n                            {%- if row.account_head == \"9640 - GST Accrued NZ - Nm\" -%} \n                                {% set global.gst = global.gst + row.tax_amount %} \n                            {% endif %}\n                        {%- endfor -%}\n                        \n                        <thead>\n                            <th colspan=\"2\">Totals</th>\n                        </thead>\n                        <tr style=\"padding:0px!important;\">\n                            <td style=\"width:65%;padding:2px!important;\">\n                                Subtotal:\n                            </td>\n                            <td style=\"padding:2px!important;padding-right:10px!important;\">\n                                {% if doc.is_return %}\n                                    $ {{ -doc.total }}\n                                {% else %}\n                                    {{ doc.get_formatted(\"total\") }}\n                                {% endif %}\n                            </td>\n                        </tr>\n                        {% for row in doc.taxes %}\n                            {% if row.account_head != \"9640 - GST Accrued NZ - Nm\" %}\n                            <tr style=\"padding:0px!important;\">\n                                <td style=\"width:65%;padding:2px!important;\">\n                                    {{ row.description }}:\n                                </td>\n                                <td style=\"padding:2px!important;padding-right:10px!important\">\n                                    {{ frappe.utils.fmt_money(row.tax_amount ,currency=doc.currency) }}\n                            </tr>\n                            {% endif %}\n                        {% endfor %}\n                        <tr style=\"padding:0px!important;\">\n                            <td style=\"width:65%;padding:2px!important;\">\n                                Total:\n                            </td>\n                            <td style=\"padding:2px!important;padding-right:10px!important\">\n                                <b>{{ doc.get_formatted(\"grand_total\") }}</b>\n                            </td>\n                        </tr>\n                        <tr style=\"padding:0px!important;\">\n                            <td style=\"width:65%;padding:2px!important;\">\n                                Paid:\n                            </td>\n                            <td style=\"padding:2px!important;padding-right:10px!important\">\n                                <b>{{  frappe.utils.fmt_money(doc.grand_total-doc.outstanding_amount,currency=doc.currency) }}</b>\n                            </td>\n                        </tr>\n                        <tr style=\"padding:0px!important;\">\n                            <td style=\"width:65%;padding:2px!important;\">\n                                {% if doc.is_return %}\n                                    TOTAL CREDIT:\n                                {% else %}\n                                    {% if doc.status == \"Unpaid\" %}\n                                        Due by <b>{{ frappe.utils.get_datetime(doc.due_date).strftime('%d-%b-%Y') }}</b>:\n                                    {% elif doc.status == \"Paid\" %}\n                                        Outstanding amount:\n                                    {% endif %}\n                                {% endif %}\n                            </td>\n                            <td style=\"padding:2px!important;padding-right:10px!important\">\n                                <b>\n                                {% if doc.is_return %}\n                                    $ {{ -doc.get_value(\"grand_total\") }}\n                                {% else %}\n                                    {{ frappe.utils.fmt_money(doc.outstanding_amount, currency=doc.currency) }}\n                                {% endif %}\n                                </b>\n                            </td>\n                        </tr>\n                    </table>\n                </td>\n            </tr>\n        </table>\n    </div>\n\n\n    <br>\n    <div class=\"row text-center\">\n        {% if backorders and (not doc.temporary_address)%}\n        <table style=\"width:97%; font-size:10px;color:#36414c;font-family:'Raleway';\" class=\"backorderTable table table-striped table-bordered text-center\">\n            <thead>\n                <tr>\n                  <th scope=\"col\" style=\"width:15%;\">Backorder (Total) </th>\n                  <th scope=\"col\" style=\"width:18%;\">Qty Added (This Order)</th>\n                  <th scope=\"col\" style=\"width:15%;\">Backorder Items</th>\n                  <th scope=\"col\" style=\"width:52%;text-align:left;\">Item Name</th>\n                  \n                </tr>\n            </thead>\n            <tbody>\n            {% for item_code_key, values in backorder_dict.items() %}\n                <tr>\n                <td class=\"text-center\"><b>{{ values['qty'] }}</b></td>\n                  <td class=\"text-center\"><b>{{ values['added_qty'] }}</b></td>\n                  <td class=\"text-left\"><b>{{ item_code_key }}</b></td>\n                  <td class=\"text-center\" style=\"text-align:left;\">{{ values['item_name'] }}</td>\n                  \n                </tr>\n            {% endfor %}\n            </tbody>\n        </table>\n        {% endif %}\n    </div>\n    <div id=\"footer-html\">\n    <table class=\"table table-bordered text-center\" style=\"margin-top: 0px; font-size: 10px; width: 100%;\">\n        <thead>\n            <tr>\n                <th style=\"background-color: #444444 !important; border-color: #444444 !important;\" width=\"33%\">Payment (Bank)</th>\n                <th style=\"background-color: #444444 !important; border-color: #444444 !important;\" width=\"33%\">Payment (Online)</th>\n                <th style=\"background-color: #444444 !important; border-color: #444444 !important;\" width=\"33%\">T&amp;C's &amp; News</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td style=\"vertical-align: middle !important;\" width=\"33%\">\n                    ACC: 126101704<br>\n                    BSB: 083-004<br>\n                </td>\n                <td width=\"33%\">\n                    <a href=\"https://www.rnlabs.com.au/payment\">Pay Online <br>(https://www.rnlabs.com.au/payment)</a><br>\n                </td>\n                <td style=\"vertical-align: middle !important;\" width=\"33%\">\n                    <a href=\"https://rnlabs.com.au/rnlabs-practitioner-terms-and-conditions/\">Terms &amp; Conditions</a><br>\n                    <a href=\"https://rnlabs.com.au/latest-news/\">Latest News</a>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    </div>\n</body>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-05-10 12:44:42.177210",
 "modified_by": "Administrator",
 "module": "Accounts",
 "name": "New sales invoice",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}